<app-index></app-index>
<div class="container" style="margin-top: 2%;">
    <div class="text-center">
        <h3>Doctor</h3>
    </div>
    <div class="row justify-content-center align-items-center">
        <div class="col-10 col-md-8 col-lg-6">

            <form name="docForm" (ngSubmit)="d.form.valid && onSubmit()" #d="ngForm" novalidate>
                <div class="form-group">
                    <label for="doctorName">Name</label>
                    <input type="text" name="doctorName" class="form-control" [(ngModel)]="doc.doctorName" #doctorName="ngModel" [ngClass]="{'is-invalid' : d.submitted && doctorName.invalid }" required />
                    <div *ngIf="d.submitted && doctorName.invalid" class="invalid-feedback">
                        <div *ngIf="doctorName.errors.required">Doctor Name is required</div>
                    </div>
                </div>

                <!-- docContactNo -->
                <div class="form-group">
                    <label for="doctorPhoneNO">Contact No</label>
                    <input type="text" name="doctorPhoneNO" class="form-control" [(ngModel)]="doc.doctorPhoneNO" #doctorPhoneNO="ngModel"
                        [ngClass]="{'is-invalid': d.submitted && doctorPhoneNO.invalid}" 
                        pattern="[6789][0-9]{9}" minlength="10" required />
                    <div *ngIf="d.submitted && doctorPhoneNO.invalid" class="invalid-feedback">
                        <div *ngIf="doctorPhoneNO.errors.required">Contact No is required</div>
                        <div *ngIf="doctorPhoneNO.errors.pattern">
                            Contact No must start with 6, 7, 8, or 9 and be 10 digits long
                        </div>
                        <div *ngIf="doctorPhoneNO.errors.minlength">
                            Contact No must be 10 digits long
                        </div>
                    </div>
                </div>

                <!-- docAdd -->
                <div class="form-group">
                    <label for="doctorAddress">Address</label>
                    <input type="text" name="doctorAddress" class="form-control" [(ngModel)]="doc.doctorAddress" #doctorAddress="ngModel" [ngClass]="{'is-invalid' : d.submitted && doctorAddress.invalid }" required />
                    <div *ngIf="d.submitted && doctorAddress.invalid" class="invalid-feedback">
                        <div *ngIf="doctorAddress.errors.required">Doctor Address is required</div>
                    </div>
                </div>

                <!-- spec -->
                <div class="form-group">
                    <label for="specialization">Specialization</label>
                    <select name="specialization" class="form-control" [(ngModel)]="doc.specialization.specId">
                        <option [value]="spec.specId" *ngFor="let spec of specList">
                            {{spec.specId}} {{ spec.speciality }}
                        </option>
                    </select>
                </div>

                <!-- dept -->
                <div class="form-group">
                    <label for="department">Department</label>
                    <select name="department" class="form-control" [(ngModel)]="doc.department.deptId">
                        <option [value]="dept.deptId" *ngFor="let dept of deptList">
                            {{dept.deptId}} {{ dept.deptName }}
                        </option>
                    </select>
                </div>
                <br>
                <button class="btn btn-primary">{{btn}}</button>
                <button class="btn btn-info" style="margin-left: 25px;" (click)="reset()">Reset</button>
                <br><br>
            </form>
        </div>
    </div>
</div>
